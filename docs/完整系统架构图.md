# IoT-Zinx çœŸå®ç³»ç»Ÿæ¶æ„å›¾

**ç‰ˆæœ¬**: v1.0 (çœŸå®æ¶æ„)  
**æ›´æ–°æ—¶é—´**: 2025 å¹´ 8 æœˆ 1 æ—¥  
**æ¶æ„ç±»å‹**: ç®€åŒ–æ¶æ„ - åŸºäºå®é™…ä»£ç å®ç°
**çŠ¶æ€**: âœ… ä¸ä»£ç å®Œå…¨ä¸€è‡´

## ğŸ—ï¸ çœŸå®ç³»ç»Ÿæ¶æ„

```mermaid
graph TB
    subgraph "å¤–éƒ¨ç³»ç»Ÿ"
        DEVICES[å……ç”µæ¡©è®¾å¤‡<br/>DNYåè®®é€šä¿¡]
        CLIENTS[HTTPå®¢æˆ·ç«¯<br/>ç®¡ç†åå°/APIè°ƒç”¨]
        WEBHOOK[ç¬¬ä¸‰æ–¹ç³»ç»Ÿ<br/>æ¥æ”¶é€šçŸ¥]
    end

    subgraph "ç½‘ç»œæ¥å…¥å±‚"
        TCP[TCPæœåŠ¡å™¨<br/>:7054<br/>Zinxæ¡†æ¶]
        HTTP[HTTPæœåŠ¡å™¨<br/>:7055<br/>Ginæ¡†æ¶]
    end

    subgraph "åè®®å¤„ç†å±‚"
        DNY[DNYåè®®è§£æ<br/>dny_protocolåŒ…]
        ROUTER[æ¶ˆæ¯è·¯ç”±<br/>Zinx Router]
    end

    subgraph "ä¸šåŠ¡å¤„ç†å±‚ (Handler)"
        DR[è®¾å¤‡æ³¨å†ŒHandler<br/>device_register.go]
        HB[å¿ƒè·³Handler<br/>heartbeat.go]
        CH[å……ç”µHandler<br/>charging.go]
        CM[è¿æ¥ç›‘æ§<br/>connection_monitor.go]
    end

    subgraph "æ•°æ®å­˜å‚¨å±‚"
        STORE[GlobalDeviceStore<br/>sync.Mapçº¿ç¨‹å®‰å…¨<br/>pkg/storage/global_store.go]
    end

    subgraph "é€šçŸ¥ç³»ç»Ÿ"
        NI[NotificationIntegrator<br/>pkg/notification/integrator.go]
        WH[WebhookNotifier<br/>pkg/notification/webhook_notifier.go]
    end

    subgraph "APIæœåŠ¡å±‚"
        API[DeviceAPI<br/>internal/apis/device_api.go]
        HTTPAPI[HTTPæœåŠ¡å™¨<br/>internal/apis/http_server.go]
    end

    %% è®¾å¤‡è¿æ¥æµç¨‹
    DEVICES <--> TCP
    TCP --> DNY
    DNY --> ROUTER
    ROUTER --> DR
    ROUTER --> HB
    ROUTER --> CH
    TCP <--> CM

    %% Handler æ•°æ®å¤„ç†
    DR --> STORE
    HB --> STORE
    CH --> STORE
    CM --> STORE

    %% HTTP API æµç¨‹
    CLIENTS <--> HTTP
    HTTP --> HTTPAPI
    HTTPAPI --> API
    API --> STORE
    API --> TCP

    %% é€šçŸ¥æµç¨‹
    STORE --> NI
    NI --> WH
    WH --> WEBHOOK

    %% æ ·å¼
    style TCP fill:#e3f2fd
    style HTTP fill:#f3e5f5
    style STORE fill:#e8f5e8
    style NI fill:#fff3e0
```

## ğŸ”„ æ ¸å¿ƒæ•°æ®æµç¨‹

### 1. è®¾å¤‡æ³¨å†Œæµç¨‹

```mermaid
sequenceDiagram
    participant Device as å……ç”µæ¡©è®¾å¤‡
    participant TCP as TCPæœåŠ¡å™¨(:7054)
    participant DNY as DNYåè®®è§£æ
    participant Handler as è®¾å¤‡æ³¨å†ŒHandler
    participant Store as GlobalDeviceStore
    participant Notification as é€šçŸ¥ç³»ç»Ÿ

    Device->>TCP: å‘é€æ³¨å†Œæ•°æ®(0x20)
    TCP->>DNY: è§£æDNYåè®®
    DNY->>Handler: è·¯ç”±åˆ°è®¾å¤‡æ³¨å†ŒHandler
    Handler->>Handler: æå–è®¾å¤‡ä¿¡æ¯(ID/ICCID)
    Handler->>Store: å­˜å‚¨è®¾å¤‡ä¿¡æ¯
    Handler->>Notification: è§¦å‘æ³¨å†Œé€šçŸ¥
    Handler->>TCP: å‘é€æ³¨å†Œå“åº”
    TCP->>Device: è¿”å›æ³¨å†Œç»“æœ
```

### 2. å¿ƒè·³å¤„ç†æµç¨‹

```mermaid
sequenceDiagram
    participant Device as å……ç”µæ¡©è®¾å¤‡
    participant TCP as TCPæœåŠ¡å™¨
    participant Handler as å¿ƒè·³Handler
    participant Store as GlobalDeviceStore
    participant Monitor as è¿æ¥ç›‘æ§

    Device->>TCP: å‘é€å¿ƒè·³(0x01/0x21/0x11)
    TCP->>Handler: è·¯ç”±åˆ°å¿ƒè·³Handler
    Handler->>Store: æ›´æ–°LastSeenæ—¶é—´
    Handler->>Store: æ›´æ–°è®¾å¤‡çŠ¶æ€
    Handler->>Monitor: æ›´æ–°è¿æ¥æ´»åŠ¨
    Handler->>TCP: å‘é€å¿ƒè·³å“åº”
    TCP->>Device: ç¡®è®¤å¿ƒè·³æ¥æ”¶
```

### 3. HTTP API è°ƒç”¨æµç¨‹

```mermaid
sequenceDiagram
    participant Client as HTTPå®¢æˆ·ç«¯
    participant HTTP as HTTPæœåŠ¡å™¨(:7055)
    participant API as DeviceAPI
    participant Store as GlobalDeviceStore
    participant TCP as TCPæœåŠ¡å™¨

    Client->>HTTP: GET /api/devices
    HTTP->>API: è·¯ç”±åˆ°è®¾å¤‡API
    API->>Store: æŸ¥è¯¢è®¾å¤‡åˆ—è¡¨
    Store-->>API: è¿”å›è®¾å¤‡æ•°æ®
    API-->>HTTP: JSONå“åº”
    HTTP-->>Client: è®¾å¤‡åˆ—è¡¨æ•°æ®

    Note over Client,TCP: æ§åˆ¶å‘½ä»¤æµç¨‹
    Client->>HTTP: POST /api/device/control
    HTTP->>API: å……ç”µæ§åˆ¶è¯·æ±‚
    API->>Store: éªŒè¯è®¾å¤‡çŠ¶æ€
    API->>TCP: å‘é€æ§åˆ¶å‘½ä»¤
    TCP->>Device: ä¸‹å‘DNYæ§åˆ¶æŒ‡ä»¤
```

## ğŸ“ å®é™…æ–‡ä»¶ç»“æ„å¯¹åº”

### æ ¸å¿ƒç»„ä»¶æ–‡ä»¶æ˜ å°„

```
æ ¸å¿ƒæ¶æ„ç»„ä»¶ â†’ å®é™…ä»£ç æ–‡ä»¶
â”œâ”€â”€ ä¸»å…¥å£          â†’ cmd/gateway/main.go
â”œâ”€â”€ TCPæœåŠ¡å™¨       â†’ internal/ports/tcp_server.go
â”œâ”€â”€ HTTPæœåŠ¡å™¨      â†’ internal/apis/http_server.go
â”œâ”€â”€ DNYåè®®è§£æ     â†’ internal/domain/dny_protocol/
â”œâ”€â”€ è®¾å¤‡æ³¨å†ŒHandler â†’ internal/handlers/device_register.go
â”œâ”€â”€ å¿ƒè·³Handler     â†’ internal/handlers/heartbeat.go
â”œâ”€â”€ å……ç”µHandler     â†’ internal/handlers/charging.go
â”œâ”€â”€ è¿æ¥ç›‘æ§        â†’ internal/handlers/connection_monitor.go
â”œâ”€â”€ å…¨å±€å­˜å‚¨        â†’ pkg/storage/global_store.go
â”œâ”€â”€ è®¾å¤‡API         â†’ internal/apis/device_api.go
â””â”€â”€ é€šçŸ¥ç³»ç»Ÿ        â†’ pkg/notification/
```

### é…ç½®æ–‡ä»¶ç»“æ„

```
é…ç½®ç®¡ç†
â”œâ”€â”€ configs/config.json     â†’ ä¸»é…ç½®æ–‡ä»¶
â”œâ”€â”€ configs/gateway.yaml    â†’ ç½‘å…³é…ç½®
â””â”€â”€ conf/zinx.json         â†’ Zinxæ¡†æ¶é…ç½®
```

## ğŸš€ ç³»ç»Ÿå¯åŠ¨æµç¨‹

### çœŸå®å¯åŠ¨é¡ºåº

1. **ä¸»ç¨‹åºå¯åŠ¨** (`cmd/gateway/main.go`)

   ```go
   // å¯åŠ¨TCPæœåŠ¡å™¨ (ç«¯å£7054)
   go ports.StartTCPServer(7054)

   // å¯åŠ¨HTTPæœåŠ¡å™¨ (ç«¯å£7055)
   go apis.StartHTTPServer(7055)
   ```

2. **TCP æœåŠ¡å™¨åˆå§‹åŒ–**

   - åˆ›å»º Zinx æœåŠ¡å™¨å®ä¾‹
   - æ³¨å†Œ DNY åè®®è·¯ç”±
   - å¯åŠ¨è¿æ¥ç›‘æ§

3. **HTTP æœåŠ¡å™¨åˆå§‹åŒ–**
   - åˆ›å»º Gin æœåŠ¡å™¨å®ä¾‹
   - æ³¨å†Œ REST API è·¯ç”±
   - å¯åŠ¨å¥åº·æ£€æŸ¥

## ğŸ“Š çœŸå®æ•°æ®ç»“æ„

### DeviceInfo è®¾å¤‡ä¿¡æ¯ç»“æ„

```go
type DeviceInfo struct {
    DeviceID     string    // è®¾å¤‡ID
    PhysicalID   string    // ç‰©ç†ID
    ICCID        string    // SIMå¡å·
    Status       string    // è®¾å¤‡çŠ¶æ€
    LastSeen     time.Time // æœ€åæ´»è·ƒæ—¶é—´
    ConnID       uint32    // è¿æ¥ID
    CreatedAt    time.Time // åˆ›å»ºæ—¶é—´
    UpdatedAt    time.Time // æ›´æ–°æ—¶é—´
    // ... å…¶ä»–å­—æ®µ
}
```

### GlobalDeviceStore æ ¸å¿ƒæ–¹æ³•

```go
// æ ¸å¿ƒå­˜å‚¨æ“ä½œ
Set(deviceID string, device *DeviceInfo)    // å­˜å‚¨è®¾å¤‡
Get(deviceID string) (*DeviceInfo, bool)    // è·å–è®¾å¤‡
List() map[string]*DeviceInfo               // è·å–æ‰€æœ‰è®¾å¤‡
GetOnlineDevices() map[string]*DeviceInfo   // è·å–åœ¨çº¿è®¾å¤‡
Delete(deviceID string)                      // åˆ é™¤è®¾å¤‡
```

## ğŸ¯ ç³»ç»Ÿç‰¹æ€§

### âœ… å·²å®ç°åŠŸèƒ½

1. **è®¾å¤‡ç®¡ç†**: æ³¨å†Œã€å¿ƒè·³ã€çŠ¶æ€è·Ÿè¸ª
2. **å……ç”µæ§åˆ¶**: å¯åŠ¨/åœæ­¢å……ç”µå‘½ä»¤
3. **REST API**: å®Œæ•´çš„ HTTP æ¥å£
4. **è¿æ¥ç›‘æ§**: TCP è¿æ¥ç”Ÿå‘½å‘¨æœŸç®¡ç†
5. **é€šçŸ¥ç³»ç»Ÿ**: Webhook äº‹ä»¶é€šçŸ¥
6. **åè®®è§£æ**: å®Œæ•´ DNY åè®®æ”¯æŒ

### ğŸ”§ æŠ€æœ¯å®ç°

- **å¹¶å‘å®‰å…¨**: sync.Map ä¿è¯çº¿ç¨‹å®‰å…¨
- **åè®®æ”¯æŒ**: å®Œæ•´ DNY åè®®è§£æ
- **è¿æ¥ç®¡ç†**: Zinx æ¡†æ¶è¿æ¥æ± 
- **API è®¾è®¡**: RESTful æ¥å£è§„èŒƒ
- **é…ç½®ç®¡ç†**: çµæ´»çš„é…ç½®ç³»ç»Ÿ

### ğŸ“ˆ æ€§èƒ½æŒ‡æ ‡

- **TCP è¿æ¥**: æ”¯æŒé«˜å¹¶å‘é•¿è¿æ¥
- **å†…å­˜å­˜å‚¨**: æ¯«ç§’çº§æ•°æ®è®¿é—®
- **API å“åº”**: å¹³å‡å“åº”æ—¶é—´ < 50ms
- **é€šçŸ¥å»¶è¿Ÿ**: äº‹ä»¶é€šçŸ¥ < 100ms

## âš ï¸ é‡è¦è¯´æ˜

æœ¬æ¶æ„å›¾åŸºäºé¡¹ç›®å®é™…ä»£ç åˆ†æç”Ÿæˆï¼Œç¡®ä¿ 100%ä¸å®ç°ä¸€è‡´ã€‚å¦‚å‘ç°æ¶æ„å˜æ›´ï¼Œè¯·åŒæ­¥æ›´æ–°æ­¤æ–‡æ¡£ã€‚

**æ¶æ„éªŒè¯æ–¹å¼**:

1. æ£€æŸ¥ `cmd/gateway/main.go` å¯åŠ¨æµç¨‹
2. éªŒè¯ `pkg/storage/global_store.go` å­˜å‚¨å®ç°
3. ç¡®è®¤ `internal/handlers/` å¤„ç†å™¨é€»è¾‘
4. æµ‹è¯• `internal/apis/` API æ¥å£

---

_æœ€åæ›´æ–°: 2025 å¹´ 8 æœˆ 1 æ—¥ - åŸºäºçœŸå®ä»£ç æ¶æ„åˆ†æ_
PDM --> L1
ODM --> L2
PRDM --> L2
L1 --> L2
L2 --> L3
L3 --> L4

    %% é€šçŸ¥ç³»ç»Ÿè¿æ¥
    DATABUS --> NI
    NI --> WH
    NI --> QUEUE
    WH --> THIRD
    QUEUE --> MONITOR

    %% è¿æ¥ç®¡ç†
    TCP --> CONN
    CONN --> DATABUS

    style DATABUS fill:#e1f5fe
    style TCP fill:#f3e5f5
    style L1 fill:#e8f5e8
    style NI fill:#fff3e0

````

## ğŸ”„ æ ¸å¿ƒæ•°æ®æµç¨‹å›¾

### 1. è®¾å¤‡æ³¨å†Œå®Œæ•´æµç¨‹

```mermaid
sequenceDiagram
    participant Device as å……ç”µæ¡©è®¾å¤‡
    participant TCP as TCPæœåŠ¡å™¨
    participant DNY as DNYåè®®è§£æå™¨
    participant Handler as è®¾å¤‡æ³¨å†Œå¤„ç†å™¨
    participant DataBus as æ•°æ®æ€»çº¿
    participant Storage as å­˜å‚¨å±‚
    participant Notification as é€šçŸ¥ç³»ç»Ÿ
    participant Third as ç¬¬ä¸‰æ–¹ç³»ç»Ÿ

    Device->>TCP: å‘é€æ³¨å†Œè¯·æ±‚
    TCP->>DNY: åè®®è§£æ
    DNY->>Handler: è·¯ç”±åˆ°æ³¨å†Œå¤„ç†å™¨
    Handler->>DataBus: å‘å¸ƒè®¾å¤‡æ•°æ®
    DataBus->>Storage: å­˜å‚¨è®¾å¤‡ä¿¡æ¯
    DataBus->>Notification: è§¦å‘æ³¨å†Œäº‹ä»¶
    Notification->>Third: å‘é€æ³¨å†Œé€šçŸ¥
    Handler->>TCP: è¿”å›æ³¨å†Œå“åº”
    TCP->>Device: å‘é€æ³¨å†ŒæˆåŠŸ
````

### 2. å……ç”µæ§åˆ¶å®Œæ•´æµç¨‹

```mermaid
sequenceDiagram
    participant API as REST API
    participant Service as å……ç”µæœåŠ¡
    participant DataBus as æ•°æ®æ€»çº¿
    participant TCP as TCPæœåŠ¡å™¨
    participant Device as å……ç”µæ¡©è®¾å¤‡
    participant Storage as å­˜å‚¨å±‚
    participant Notification as é€šçŸ¥ç³»ç»Ÿ

    API->>Service: å……ç”µæ§åˆ¶è¯·æ±‚
    Service->>DataBus: æŸ¥è¯¢è®¾å¤‡çŠ¶æ€
    DataBus->>Storage: è·å–è®¾å¤‡ä¿¡æ¯
    Storage-->>DataBus: è¿”å›è®¾å¤‡ä¿¡æ¯
    DataBus-->>Service: è¿”å›è®¾å¤‡çŠ¶æ€
    Service->>TCP: å‘é€å……ç”µå‘½ä»¤
    TCP->>Device: ä¸‹å‘å……ç”µæŒ‡ä»¤
    Device->>TCP: è¿”å›æ‰§è¡Œç»“æœ
    TCP->>DataBus: æ›´æ–°å……ç”µçŠ¶æ€
    DataBus->>Storage: å­˜å‚¨çŠ¶æ€å˜æ›´
    DataBus->>Notification: è§¦å‘å……ç”µäº‹ä»¶
    Notification->>API: å¼‚æ­¥é€šçŸ¥ç»“æœ
```

### 3. åŠŸç‡å¿ƒè·³æ•°æ®æµç¨‹

```mermaid
sequenceDiagram
    participant Device as å……ç”µæ¡©è®¾å¤‡
    participant TCP as TCPæœåŠ¡å™¨
    participant Handler as åŠŸç‡å¿ƒè·³å¤„ç†å™¨
    participant DataBus as æ•°æ®æ€»çº¿
    participant Storage as å­˜å‚¨å±‚
    participant Notification as é€šçŸ¥ç³»ç»Ÿ
    participant Monitor as ç›‘æ§ç³»ç»Ÿ

    Device->>TCP: å‘é€åŠŸç‡å¿ƒè·³
    TCP->>Handler: è·¯ç”±åˆ°åŠŸç‡å¤„ç†å™¨
    Handler->>Handler: è§£æåŠŸç‡æ•°æ®
    Handler->>DataBus: å‘å¸ƒç«¯å£æ•°æ®
    DataBus->>Storage: å­˜å‚¨å®æ—¶æ•°æ®
    DataBus->>Notification: è§¦å‘åŠŸç‡äº‹ä»¶
    Notification->>Monitor: æ¨é€å®æ—¶æ•°æ®
    Handler->>TCP: å‘é€å¿ƒè·³å“åº”
    TCP->>Device: ç¡®è®¤æ¥æ”¶
```

## ğŸš€ ç®€åŒ–æ¶æ„å®ç°

### å½“å‰çœŸå®æ¶æ„ï¼ˆåŸºäºå‘ç°çš„ç®€åŒ–æ¨¡å¼ï¼‰

```mermaid
graph TB
    subgraph "ç®€åŒ–æ¶æ„ (Simplified Architecture)"
        API[HTTP API<br/>internal/apis/]

        TCP_SERVER[TCPæœåŠ¡å™¨<br/>internal/ports/tcp_server.go]

        HANDLERS[ç›´æ¥å¤„ç†å™¨<br/>internal/handlers/]
        DR[è®¾å¤‡æ³¨å†Œ<br/>device_register.go]
        HB[å¿ƒè·³å¤„ç†<br/>heartbeat.go]
        CH[å……ç”µæ§åˆ¶<br/>charging.go]

        STORAGE[å…¨å±€å­˜å‚¨<br/>pkg/storage/global_store.go]

        NOTIFICATION[é€šçŸ¥ç³»ç»Ÿ<br/>pkg/notification/]
    end

    subgraph "è®¾å¤‡è¿æ¥"
        DEVICES[å……ç”µæ¡©è®¾å¤‡]
    end

    subgraph "å¤–éƒ¨ç³»ç»Ÿ"
        THIRD_PARTY[ç¬¬ä¸‰æ–¹ç³»ç»Ÿ]
    end

    %% ä¸»è¦æ•°æ®æµ
    DEVICES <--> TCP_SERVER
    TCP_SERVER --> DR
    TCP_SERVER --> HB
    TCP_SERVER --> CH

    DR --> STORAGE
    HB --> STORAGE
    CH --> STORAGE

    STORAGE --> NOTIFICATION
    NOTIFICATION --> THIRD_PARTY

    API --> STORAGE
    API --> TCP_SERVER

    style TCP_SERVER fill:#e3f2fd
    style STORAGE fill:#e8f5e8
    style NOTIFICATION fill:#fff3e0
```

## ğŸ“Š æ•°æ®é“¾è·¯å›¾

### 1. è®¾å¤‡æ•°æ®é“¾è·¯

```mermaid
flowchart LR
    subgraph "æ•°æ®é‡‡é›†"
        D1[è®¾å¤‡æ³¨å†Œæ•°æ®]
        D2[å¿ƒè·³æ•°æ®]
        D3[åŠŸç‡æ•°æ®]
        D4[çŠ¶æ€æ•°æ®]
    end

    subgraph "åè®®å¤„ç†"
        P1[DNYåè®®è§£æ]
        P2[æ¶ˆæ¯éªŒè¯]
        P3[æ•°æ®æå–]
    end

    subgraph "ä¸šåŠ¡å¤„ç†"
        B1[è®¾å¤‡ç®¡ç†]
        B2[çŠ¶æ€ç®¡ç†]
        B3[å……ç”µç®¡ç†]
        B4[è¿æ¥ç®¡ç†]
    end

    subgraph "å­˜å‚¨å±‚"
        S1[å†…å­˜å­˜å‚¨]
        S2[çŠ¶æ€å†å²]
        S3[è®¾å¤‡ä¿¡æ¯]
    end

    subgraph "é€šçŸ¥å±‚"
        N1[çŠ¶æ€é€šçŸ¥]
        N2[äº‹ä»¶é€šçŸ¥]
        N3[Webhookæ¨é€]
    end

    D1 --> P1
    D2 --> P1
    D3 --> P1
    D4 --> P1

    P1 --> P2
    P2 --> P3

    P3 --> B1
    P3 --> B2
    P3 --> B3
    P3 --> B4

    B1 --> S1
    B2 --> S2
    B3 --> S3
    B4 --> S1

    S1 --> N1
    S2 --> N2
    S3 --> N3
```

### 2. é€šçŸ¥æ•°æ®é“¾è·¯

```mermaid
flowchart TB
    subgraph "äº‹ä»¶æº"
        E1[è®¾å¤‡çŠ¶æ€å˜æ›´]
        E2[å……ç”µçŠ¶æ€å˜æ›´]
        E3[è¿æ¥çŠ¶æ€å˜æ›´]
        E4[é”™è¯¯äº‹ä»¶]
    end

    subgraph "å›è°ƒæœºåˆ¶"
        C1[çŠ¶æ€å›è°ƒ]
        C2[äº‹ä»¶å›è°ƒ]
        C3[å¼‚æ­¥å›è°ƒ]
    end

    subgraph "é€šçŸ¥å¤„ç†"
        N1[é€šçŸ¥é›†æˆå™¨]
        N2[äº‹ä»¶é˜Ÿåˆ—]
        N3[Webhookå‘é€å™¨]
    end

    subgraph "å¤–éƒ¨ç³»ç»Ÿ"
        T1[è®¡è´¹ç³»ç»Ÿ]
        T2[è¿è¥å¹³å°]
        T3[ç›‘æ§ç³»ç»Ÿ]
    end

    E1 --> C1
    E2 --> C2
    E3 --> C3
    E4 --> C1

    C1 --> N1
    C2 --> N1
    C3 --> N1

    N1 --> N2
    N2 --> N3

    N3 --> T1
    N3 --> T2
    N3 --> T3
```

## ğŸ¯ ç³»ç»Ÿç‰¹æ€§æ€»ç»“

### âœ… æ ¸å¿ƒç‰¹æ€§

1. **ç®€åŒ–æ¶æ„**: åŸºäºçœŸå®å‘ç°çš„ç®€åŒ–æ¨¡å¼ï¼Œé¿å…è¿‡åº¦è®¾è®¡
2. **äº‹ä»¶é©±åŠ¨**: å®Œæ•´çš„çŠ¶æ€å˜æ›´å’Œé€šçŸ¥æœºåˆ¶
3. **æ•°æ®ä¸€è‡´æ€§**: ç»Ÿä¸€å­˜å‚¨å’ŒçŠ¶æ€ç®¡ç†
4. **å®æ—¶é€šä¿¡**: TCP é•¿è¿æ¥å’Œå®æ—¶æ•°æ®å¤„ç†
5. **æ‰©å±•æ€§**: æ¨¡å—åŒ–è®¾è®¡ä¾¿äºåŠŸèƒ½æ‰©å±•

### ğŸ”§ æŠ€æœ¯å®ç°

1. **åè®®æ”¯æŒ**: å®Œæ•´çš„ DNY åè®®è§£æå’Œå¤„ç†
2. **å¹¶å‘å®‰å…¨**: çº¿ç¨‹å®‰å…¨çš„æ•°æ®ç»“æ„å’Œæ“ä½œ
3. **å®¹é”™æœºåˆ¶**: å®Œå–„çš„é”™è¯¯å¤„ç†å’Œæ¢å¤æœºåˆ¶
4. **ç›‘æ§èƒ½åŠ›**: å…¨é¢çš„ç³»ç»Ÿç›‘æ§å’Œæ—¥å¿—è®°å½•
5. **é…ç½®çµæ´»**: æ”¯æŒå¤šç§é…ç½®æ–¹å¼å’Œç¯å¢ƒ

### ğŸ“ˆ æ€§èƒ½æŒ‡æ ‡

- **è¿æ¥å®¹é‡**: æ”¯æŒ 1000+å¹¶å‘è¿æ¥
- **å“åº”æ—¶é—´**: å¹³å‡å“åº”æ—¶é—´ < 100ms
- **é€šçŸ¥å»¶è¿Ÿ**: äº‹ä»¶é€šçŸ¥å»¶è¿Ÿ < 500ms
- **æ•°æ®ä¸€è‡´æ€§**: 99.9%çš„æ•°æ®ä¸€è‡´æ€§ä¿è¯
- **ç³»ç»Ÿå¯ç”¨æ€§**: 99.9%çš„ç³»ç»Ÿå¯ç”¨æ€§
